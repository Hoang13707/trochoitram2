<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trò chơi Trạm 2</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      background: #0b1224;
      color: #f0f4ff;
    }
    .banner {
      width: 100%;
      padding: 24px;
      text-align: center;
      background: linear-gradient(90deg, #005bea, #00c6fb);
      color: white;
      font-size: 28px;
      font-weight: bold;
      letter-spacing: 1px;
      border-bottom: 4px solid rgba(255,255,255,0.2);
      text-shadow: 0 0 6px rgba(255,255,255,0.6), 0 0 12px #00c6fb;
    }
    .container {
      max-width: 1100px;
      margin: 20px auto;
      padding: 20px;
      background: rgba(255,255,255,0.05);
      border-radius: 10px;
    }
    .status { text-align: center; margin-bottom: 15px; font-size: 18px; font-weight: bold; }
    .question { font-size: 20px; margin: 10px 0; text-align: center; font-weight: bold; }
    .answers {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin: 15px 0;
    }
    .answer {
      background: rgba(255,255,255,0.1);
      padding: 20px;
      border-radius: 6px;
      text-align: center;
      font-weight: bold;
      cursor: pointer;
      font-size: 18px;
      user-select: none;
    }
    .hidden { background: rgba(255,255,255,0.2); color: transparent; }
    .revealed {
      background: linear-gradient(90deg, #053854, #0b6b9a);
      color: white;
      text-shadow: 0 0 6px rgba(255,255,255,0.6);
    }
    .teams {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-top: 20px;
    }
    .team {
      background: rgba(255,255,255,0.05);
      padding: 15px;
      border-radius: 8px;
    }
    .team h2 { margin-top: 0; font-size: 18px; text-align: center; }
    .team input {
      width: 100%;
      padding: 6px;
      margin-bottom: 8px;
      border-radius: 4px;
      border: none;
    }
    .team button {
      margin: 4px;
      padding: 6px 12px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }
    .btn-submit { background: #2ecc71; color: white; }
    .controls { margin-top: 20px; text-align: center; }
    .controls button {
      margin: 5px;
      padding: 8px 14px;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
    }
    .btn-start { background: #3498db; color: white; }
    .btn-next { background: #9b59b6; color: white; }
    .btn-restart { background: #e74c3c; color: white; }
    .message {
      text-align: center;
      font-size: 18px;
      margin-top: 15px;
      font-weight: bold;
      color: #ffcc33;
    }
  </style>
</head>
<body>
  <div class="banner">Tâm Linh Tương Thông</div>

  <div class="container">
    <div class="status">
      <div id="progress">Câu 1/3</div>
    </div>
    <div class="question" id="question">...</div>
    <div class="answers" id="answers"></div>

    <div class="teams">
      <div class="team">
        <h2>Đội A - Điểm: <span id="scoreA">0</span></h2>
        <input id="inputA" placeholder="Nhập 6 đáp án, cách nhau bởi dấu phẩy">
        <button class="btn-submit" onclick="lockAnswers('A')">Xác nhận</button>
      </div>
      <div class="team">
        <h2>Đội B - Điểm: <span id="scoreB">0</span></h2>
        <input id="inputB" placeholder="Nhập 6 đáp án, cách nhau bởi dấu phẩy">
        <button class="btn-submit" onclick="lockAnswers('B')">Xác nhận</button>
      </div>
      <div class="team">
        <h2>Đội C - Điểm: <span id="scoreC">0</span></h2>
        <input id="inputC" placeholder="Nhập 6 đáp án, cách nhau bởi dấu phẩy">
        <button class="btn-submit" onclick="lockAnswers('C')">Xác nhận</button>
      </div>
      <div class="team">
        <h2>Đội D - Điểm: <span id="scoreD">0</span></h2>
        <input id="inputD" placeholder="Nhập 6 đáp án, cách nhau bởi dấu phẩy">
        <button class="btn-submit" onclick="lockAnswers('D')">Xác nhận</button>
      </div>
    </div>

    <div class="controls">
      <button class="btn-start" onclick="startRound()" id="startBtn">Bắt đầu</button>
      <button class="btn-next" onclick="nextQuestion()" style="display:none" id="nextBtn">Câu tiếp theo</button>
      <button class="btn-restart" onclick="restartGame()" id="restartBtn">Chơi lại</button>
    </div>
    <div class="message" id="message"></div>

    <div id="rankingTable" style="display:none; margin-top:12px;"></div>
  </div>

  <script>
    const questions = [
      { 
        text: "Hãy kể tên 6 thứ mà dân IT sợ phải đối mặt", 
        answers: [
          {text:"Deadline", points:3}, 
          {text:"Bug", points:3}, 
          {text:"Hết pin", points:3}, 
          {text:"Quên save", points:3}, 
          {text:"Wifi yếu", points:3}, 
          {text:"Sever sập", points:3}
        ]
      },
      { 
        text: "Hãy kể tên 6 món quà mà các bạn nghĩ là phù hợp vào các ngày lễ cho chị em phụ nữ", 
        answers: [
          {text:"Hoa", points:1}, 
          {text:"Gấu bông", points:1}, 
          {text:"Thiệp", points:1}, 
          {text:"Vòng tay", points:1}, 
          {text:"Bánh ngọt", points:1}, 
          {text:"Lời chúc", points:1}
        ]
      },
      { 
        text: "Dân IT làm gì vào giờ rảnh", 
        answers: [
          {text:"Chơi game", points:1}, 
          {text:"Xem phim", points:1}, 
          {text:"Ngủ", points:1}, 
          {text:"Đọc sách", points:1}, 
          {text:"Nghe nhạc", points:1}, 
          {text:"Chơi thể thao", points:1}
        ]
      },
       { 
  text: "Các bạn thích các bạn IT chơi môn thể thao gì", 
  answers: [
    {text:"Bóng đá", points:1}, 
    {text:"Cầu lông", points:1}, 
    {text:"Bóng rổ", points:1}, 
    {text:"Bóng chuyền", points:1}, 
    {text:"Tennis", points:1}, 
    {text:"Pickleball", points:1}
  ]
},
{ 
  text: "Ngôn ngữ lập trình mà các bạn thấy là phổ thông", 
  answers: [
    {text:"C++", points:1}, 
    {text:"Python", points:1}, 
    {text:"Java", points:1}, 
    {text:"JavaScript", points:1}, 
    {text:"C#", points:1}, 
    {text:"PHP", points:1}
  ]
}   
    ];
    let currentQ = 0;
    let scoreA = 0, scoreB = 0, scoreC = 0, scoreD = 0;
    let answersA = [], answersB = [], answersC = [], answersD = [];

    function renderQuestion() {
      const q = questions[currentQ];
      document.getElementById("question").textContent = q.text;
      document.getElementById("progress").textContent = `Câu ${currentQ+1}/${questions.length}`;
      const ansDiv = document.getElementById("answers");
      ansDiv.innerHTML = "";
      q.answers.forEach((ans,i)=>{
        const div = document.createElement("div");
        div.className = "answer hidden";
        div.id = `ans${i}`;
        div.textContent = ans.text;
        div.onclick = () => revealAnswer(i);
        ansDiv.appendChild(div);
      });
      document.getElementById("message").textContent="";
      document.getElementById("nextBtn").style.display="none";
      document.getElementById("rankingTable").style.display = "none";
    }

    function lockAnswers(team){
      const input = document.getElementById("input"+team).value.trim();
      if(!input) return;
      const arr = input.split(",").map(a=>a.trim().toLowerCase()).filter(a=>a!=="");
      if(team==="A") answersA = arr;
      else if(team==="B") answersB = arr;
      else if(team==="C") answersC = arr;
      else if(team==="D") answersD = arr;
      document.getElementById("input"+team).disabled = true;
    }

    function startRound(){
      document.querySelectorAll(".answer").forEach(el=>{
        el.className="answer hidden";
      });
      document.getElementById("message").textContent="Click vào từng ô để lật đáp án!";
    }

    function revealAnswer(i){
      const q = questions[currentQ];
      const div = document.getElementById("ans"+i);
      if(!div || div.classList.contains("revealed")) return;
      div.className="answer revealed";

      const ansText = q.answers[i].text;
      const ansLower = ansText.toLowerCase();
      const pts = q.answers[i].points;
      div.textContent = `${ansText} (+${pts}đ)`;

      if(answersA.includes(ansLower)){ scoreA+=pts; document.getElementById("scoreA").textContent=scoreA; }
      if(answersB.includes(ansLower)){ scoreB+=pts; document.getElementById("scoreB").textContent=scoreB; }
      if(answersC.includes(ansLower)){ scoreC+=pts; document.getElementById("scoreC").textContent=scoreC; }
      if(answersD.includes(ansLower)){ scoreD+=pts; document.getElementById("scoreD").textContent=scoreD; }

      const allRevealed = [...document.querySelectorAll(".answer")]
                          .every(el=>el.classList.contains("revealed"));
      if(allRevealed) endQuestion();
    }

    function endQuestion(){
      if(currentQ < questions.length-1){
        document.getElementById("message").textContent=`Xong câu ${currentQ+1}, mời qua câu tiếp theo`;
        document.getElementById("nextBtn").style.display="inline-block";
      } else {
        showRanking();
      }
    }

    function nextQuestion(){
      currentQ++;
      ["A","B","C","D"].forEach(t=>{
        document.getElementById("input"+t).value="";
        document.getElementById("input"+t).disabled=false;
      });
      answersA=[]; answersB=[]; answersC=[]; answersD=[];
      renderQuestion();
    }

    function restartGame(){
      currentQ=0; scoreA=0; scoreB=0; scoreC=0; scoreD=0;
      ["A","B","C","D"].forEach(t=>{
        document.getElementById("score"+t).textContent=0;
        document.getElementById("input"+t).value="";
        document.getElementById("input"+t).disabled=false;
      });
      document.getElementById("rankingTable").style.display = "none";
      document.getElementById("message").textContent = "";
      answersA=[]; answersB=[]; answersC=[]; answersD=[];
      renderQuestion();
    }

    function showRanking(){
      let results = [
        {team:"A",score:scoreA},
        {team:"B",score:scoreB},
        {team:"C",score:scoreC},
        {team:"D",score:scoreD}
      ];
      results.sort((a,b)=>{
        if(b.score !== a.score) return b.score - a.score;
        return a.team.localeCompare(b.team);
      });

      const rankingTable = document.getElementById("rankingTable");
      let tableHTML = `<table style="width:100%; border-collapse:collapse; margin-top:8px;">
        <thead><tr>
          <th style="text-align:left; padding:8px;">Thứ hạng</th>
          <th style="text-align:left; padding:8px;">Đội</th>
          <th style="text-align:left; padding:8px;">Điểm</th>
        </tr></thead><tbody>`;
      results.forEach((r, idx) => {
        let medal = idx===0?"🥇":idx===1?"🥈":idx===2?"🥉":"";
        tableHTML += `<tr>
          <td style="padding:8px;">${medal} ${idx+1}</td>
          <td style="padding:8px;">Đội ${r.team}</td>
          <td style="padding:8px;">${r.score}</td>
        </tr>`;
      });
      tableHTML += `</tbody></table>`;
      rankingTable.innerHTML = tableHTML;
      rankingTable.style.display = "block";
    }

    window.onload = () => { renderQuestion(); };
  </script>
</body>
</html>
           


